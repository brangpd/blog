
<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta charset="utf-8" />
  <meta name="author" content="花落无声@brangpd" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>网络 | 花落无声的站点</title>
  <link rel="stylesheet" href="/blog/css/style.css"/>
  <link rel="stylesheet" href="/blog/css/chroma.css"/>
  <link rel="stylesheet" href="/blog/css/fonts.css"/>
  <link rel="stylesheet" href="/blog/css/to_top_button.css"/>
  <link rel="stylesheet" href="/blog/abcjs/abcjs-audio.css" />
<script defer src="/blog/abcjs/abcjs-basic-min.js"></script>


</head>

<body>
  <nav>
    <ul class="menu">
      
      <li><a href="/blog/">主页</a></li>
      
      <li><a href="/blog/p/">近期</a></li>
      
      <li><a href="/blog/pall/">全部</a></li>
      
      <li><a href="/blog/categories/">归档</a></li>
      
      <li><a href="/blog/tags/">标签</a></li>
      
      <li><a href="/blog/index.xml">订阅</a></li>
      
    </ul>
  </nav>


<h1 class="h0">网络</h1>






<section class="list-block">
  <div class="list-title-line">
    <div style="float: right;">
      
    </div>
    <div>
      <a href="/blog/p/2020/08/02/centos-8-%E7%BD%91%E7%BB%9C%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/">
        <span class="list-title">CentOS 8 网络配置文件</span>
        
      </a>
    </div>
  </div>
  
  <div class="list-summary">
    
    
    
    
    <p>在使用CentOS 8作为服务器时修改网络配置的方法.</p>
<p>配置文件见于<code>/etc/sysconfig/network-scripts/*</code>.</p>
<p>配置文档示例:</p>
  </div>
  
</section>


<section class="list-block">
  <div class="list-title-line">
    <div style="float: right;">
      
    </div>
    <div>
      <a href="/blog/p/2020/08/03/kubernetes%E9%9B%86%E7%BE%A4dns%E6%A3%80%E6%B5%8B%E5%B7%A5%E5%85%B7/">
        <span class="list-title">Kubernetes集群DNS检测工具</span>
        
      </a>
    </div>
  </div>
  
  <div class="list-summary">
    
    
    
    
    一个在集群中检测网络环境的工具.
  </div>
  
</section>


<section class="list-block">
  <div class="list-title-line">
    <div style="float: right;">
      
    </div>
    <div>
      <a href="/blog/p/2020/08/04/kubernetes%E7%BD%91%E7%BB%9C%E6%9C%8D%E5%8A%A1%E7%9B%B8%E5%85%B3/">
        <span class="list-title">Kubernetes网络服务相关</span>
        
      </a>
    </div>
  </div>
  
  <div class="list-summary">
    
    
    
    
    <h1 id="参考"><a href="#%e5%8f%82%e8%80%83" class="header-anchor">参考</a></h1>
<p><a href="https://kubernetes.io/docs/concepts/services-networking/">https://kubernetes.io/docs/concepts/services-networking/</a></p>
<h1 id="service"><a href="#service" class="header-anchor">Service</a></h1>
<p>服务, 应该叫网络服务.</p>
<h2 id="定义"><a href="#%e5%ae%9a%e4%b9%89" class="header-anchor">定义</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-yaml" data-lang="yaml"><span class="nt">apiVersion</span><span class="p">:</span><span class="w"> </span><span class="l">v1</span><span class="w">
</span><span class="w"></span><span class="nt">kind</span><span class="p">:</span><span class="w"> </span><span class="l">Service</span><span class="w">
</span><span class="w"></span><span class="nt">metadata</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">my-service</span><span class="w">
</span><span class="w"></span><span class="nt">spec</span><span class="p">:</span><span class="w">
</span><span class="w">  </span><span class="nt">selector</span><span class="p">:</span><span class="w">
</span><span class="w">    </span><span class="nt">app</span><span class="p">:</span><span class="w"> </span><span class="l">MyApp</span><span class="w">
</span><span class="w">  </span><span class="nt">ports</span><span class="p">:</span><span class="w">
</span><span class="w">    </span>- <span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l">TCP</span><span class="w"> </span><span class="c"># 默认, 还有UDP, HTTP, PROXY</span><span class="w">
</span><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">http</span><span class="w"> </span><span class="c"># pod指定的名字可以引用</span><span class="w">
</span><span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">80</span><span class="w">
</span><span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="m">9376</span><span class="w">
</span><span class="w">    </span>- <span class="nt">protocol</span><span class="p">:</span><span class="w"> </span><span class="l">TCP</span><span class="w">
</span><span class="w">      </span><span class="nt">name</span><span class="p">:</span><span class="w"> </span><span class="l">https</span><span class="w">
</span><span class="w">      </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="m">443</span><span class="w">
</span><span class="w">      </span><span class="nt">targetPort</span><span class="p">:</span><span class="w"> </span><span class="m">9337</span><span class="w">
</span></code></pre></td></tr></table>
</div>
</div><p>如果创建一个没有selector的service, 应自行指定endpoint:</p>
  </div>
  
</section>





<footer>

© <a href="mailto:brangpd@outlook.com">brangpd</a>
</footer>
<button onclick="topFunction()" id="toTopButton">↑↑↑</button>
<script src="/blog/js/to_top_button.js"></script>
<script src="/blog/js/custom.js"></script>
</body>
</html>