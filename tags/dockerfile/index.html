
<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <meta charset="utf-8" />
  <meta name="author" content="花落无声@brangpd" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dockerfile | 花落无声的站点</title>
  <link rel="stylesheet" href="/blog/css/style.css"/>
  <link rel="stylesheet" href="/blog/css/chroma.css"/>
  <link rel="stylesheet" href="/blog/css/fonts.css"/>
  <link rel="stylesheet" href="/blog/css/to_top_button.css"/>
  <link rel="stylesheet" href="/blog/abcjs/abcjs-audio.css" />
<script defer src="/blog/abcjs/abcjs-basic-min.js"></script>


</head>

<body>
  <nav>
    <ul class="menu">
      
      <li><a href="/blog/">主页</a></li>
      
      <li><a href="/blog/p/">近期</a></li>
      
      <li><a href="/blog/pall/">全部</a></li>
      
      <li><a href="/blog/categories/">归档</a></li>
      
      <li><a href="/blog/tags/">标签</a></li>
      
      <li><a href="/blog/index.xml">订阅</a></li>
      
    </ul>
  </nav>


<h1 class="h0">Dockerfile</h1>






<section class="list-block">
  <div class="list-title-line">
    <div style="float: right;">
      
    </div>
    <div>
      <a href="/blog/p/2020/08/05/dockerfile%E5%B8%B8%E7%94%A8%E9%A1%B9%E8%AE%B0%E5%BD%95/">
        <span class="list-title">Dockerfile常用项记录</span>
        
      </a>
    </div>
  </div>
  
  <div class="list-summary">
    
    
    
    
    <h1 id="参考"><a href="#%e5%8f%82%e8%80%83" class="header-anchor">参考</a></h1>
<p><a href="https://docs.docker.com/engine/reference/builder/">https://docs.docker.com/engine/reference/builder/</a></p>
<h1 id="dockerfile基础"><a href="#dockerfile%e5%9f%ba%e7%a1%80" class="header-anchor">Dockerfile基础</a></h1>
<h2 id="命令行构建"><a href="#%e5%91%bd%e4%bb%a4%e8%a1%8c%e6%9e%84%e5%bb%ba" class="header-anchor">命令行构建</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-sh" data-lang="sh">docker build -f ./Dockerfile路径 -t 新镜像:版本号 -t 可以放多个 .
</code></pre></td></tr></table>
</div>
</div><p>通过Dockerfile与上下文(文件目录或URL)构建镜像.</p>
<p>可以写一个<code>.dockerignore</code>文件忽略某些文件, 这些文件不会被<code>ADD</code>或<code>COPY</code>. 写法参考<code>.gitignore</code>.</p>
<h2 id="dockerfile命令格式"><a href="#dockerfile%e5%91%bd%e4%bb%a4%e6%a0%bc%e5%bc%8f" class="header-anchor">Dockerfile命令格式</a></h2>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-dockerfile" data-lang="dockerfile"><span class="c"># 行内注释, 只有#放在行首才表示注释, #在其他地方均不表示注释</span><span class="err">
</span><span class="err"></span>INSTRUCTION arguments<span class="err">
</span></code></pre></td></tr></table>
</div>
</div><p>在最上方可写注释做预处理指令. 预处理指令包括: <code>syntax</code>, 指定语法版本号; <code>escape</code>, 指定转义符号. 略.</p>
<p>环境变量与shell类似, 以<code>$(v)</code>, <code>$v</code>的形式引用.</p>
  </div>
  
</section>





<footer>

© <a href="mailto:brangpd@outlook.com">brangpd</a>
</footer>
<button onclick="topFunction()" id="toTopButton">↑↑↑</button>
<script src="/blog/js/to_top_button.js"></script>
<script src="/blog/js/custom.js"></script>
</body>
</html>